{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { fetchItems, addItems, updateItems, deleteItems } from './cartAPI';\nconst initialState = {\n  items: [],\n  status: 'idle'\n};\nexport const fetchItemsAsync = createAsyncThunk('carts/fetchItems', async () => {\n  const response = await fetchItems();\n  return response.data;\n});\nexport const addItemAsync = createAsyncThunk('cart/addItems', async item => {\n  const {\n    id,\n    title,\n    brand,\n    price,\n    thumbnail\n  } = item;\n  const response = await addItems({\n    id,\n    title,\n    brand,\n    price,\n    thumbnail,\n    quantity: 1\n  });\n  return response.data;\n});\nexport const deleteItemAsync = createAsyncThunk('cart/deleteItem', async id => {\n  const response = await deleteItems(id);\n  return response.data.id;\n});\nexport const updateItemsAsync = createAsyncThunk('cart/updateItem', async (id, updateItem) => {\n  const response = await updateItems(id, updateItem);\n  return response.data;\n});\nexport const cartSlice = createSlice({\n  name: 'carts',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchItemsAsync.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchItemsAsync.fulfilled, (state, action) => {\n      state.status = 'idle';\n      state.items = action.payload;\n    }).addCase(addItemAsync.fulfilled, (state, action) => {\n      state.items.push(action.payload);\n      state.status = 'idle';\n    }).addCase(deleteItemAsync.fulfilled, (state, action) => {\n      const index = state.items.findIndex(item => item.id === action.payload);\n      state.items.splice(index, 1);\n      state.status = 'ldle';\n    }).addCase(updateItems.fulfilled, (state, action) => {});\n  }\n});\nexport const selectcarts = state => state.carts.items;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","fetchItems","addItems","updateItems","deleteItems","initialState","items","status","fetchItemsAsync","response","data","addItemAsync","item","id","title","brand","price","thumbnail","quantity","deleteItemAsync","updateItemsAsync","updateItem","cartSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","push","index","findIndex","splice","selectcarts","carts","reducer"],"sources":["/home/mrinal/MERN/Redux/Redux-Project/redux-api-example/src/features/cart/cartSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { fetchItems,addItems,updateItems,deleteItems } from './cartAPI';\n\nconst initialState = {\n  items : [],\n  status: 'idle',\n};\n\nexport const fetchItemsAsync = createAsyncThunk(\n  'carts/fetchItems',\n  async () => {\n    const response = await fetchItems();\n    return response.data;\n  }\n);\n\nexport const addItemAsync = createAsyncThunk(\n  'cart/addItems',\n  async (item)=>{\n    const {id,title,brand,price,thumbnail} = item;\n    const response = await addItems({id,title,brand,price,thumbnail,quantity:1});\n    return response.data;\n  }\n)\n\nexport const deleteItemAsync = createAsyncThunk(\n  'cart/deleteItem',\n  async (id)=>{\n    const response = await deleteItems(id);\n    return response.data.id;\n  }\n)\n\nexport const updateItemsAsync = createAsyncThunk(\n  'cart/updateItem',\n  async (id,updateItem)=>{\n    const response = await updateItems(id,updateItem);\n    return response.data;\n  }\n)\n\nexport const cartSlice = createSlice({\n  name: 'carts',\n  initialState,\n  reducers: {\n    \n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchItemsAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchItemsAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.items = action.payload;\n      })\n      .addCase(addItemAsync.fulfilled,(state,action)=>{\n        state.items.push(action.payload);\n        state.status = 'idle';\n      })\n      .addCase(deleteItemAsync.fulfilled,(state,action)=>{\n        const index = state.items.findIndex(item=>item.id===action.payload);\n        state.items.splice(index,1);\n        state.status = 'ldle'\n      })\n      .addCase(updateItems.fulfilled,(state,action)=>{\n\n      })\n  },\n});\n\nexport const selectcarts = (state) => state.carts.items;\nexport default cartSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}